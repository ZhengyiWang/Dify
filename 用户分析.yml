app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: ç”¨æˆ·åˆ†æ
kind: app
version: 0.1.1
workflow:
  conversation_variables:
  - description: ''
    id: d2ddb739-77fc-4218-85c9-6a3c1fa0917a
    name: conv_id
    value: []
    value_type: array[string]
  - description: ''
    id: a81a863c-03d9-4e2d-8521-f786104da382
    name: ts_code
    value: ''
    value_type: string
  - description: ''
    id: 279a676c-6350-499d-9672-ec9784a3290b
    name: strats_id
    value: ''
    value_type: string
  - description: ''
    id: f4692dd2-44b6-4419-9e6d-2e3fd1efda9b
    name: user_id
    value: ''
    value_type: string
  - description: ''
    id: 0ab50fee-55eb-4eb0-8c84-2d1f1c4f1b1a
    name: stock_id
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 1723771723353-source-1723789148750-target
      selected: false
      source: '1723771723353'
      sourceHandle: source
      target: '1723789148750'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: question-classifier
      id: 1723769606603-source-1723798606207-target
      selected: false
      source: '1723769606603'
      sourceHandle: source
      target: '1723798606207'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1723798913328-source-1723798969767-target
      selected: false
      source: '1723798913328'
      sourceHandle: source
      target: '1723798969767'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: llm-source-17237972326250-target
      selected: false
      source: llm
      sourceHandle: source
      target: '17237972326250'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 1723801029796-source-1723801610784-target
      source: '1723801029796'
      sourceHandle: source
      target: '1723801610784'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1723804996991-source-1723805737414-target
      source: '1723804996991'
      sourceHandle: source
      target: '1723805737414'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1723805737414-source-1723799352247-target
      source: '1723805737414'
      sourceHandle: source
      target: '1723799352247'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: llm
      id: 1724030206472-source-1723771723353-target
      source: '1724030206472'
      sourceHandle: source
      target: '1723771723353'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: llm
      id: 1724030221343-source-1723779172536-target
      source: '1724030221343'
      sourceHandle: source
      target: '1723779172536'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: assigner
      id: 1723786011450-source-1724030672645-target
      source: '1723786011450'
      sourceHandle: source
      target: '1724030672645'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: llm
      id: 1724030672645-source-1723798913328-target
      source: '1724030672645'
      sourceHandle: source
      target: '1723798913328'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: llm
      id: 1724030768378-source-1723801029796-target
      source: '1724030768378'
      sourceHandle: source
      target: '1723801029796'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1723789148750-source-1723798758366-target
      source: '1723789148750'
      sourceHandle: source
      target: '1723798758366'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: assigner
      id: 1723798758366-source-1724031006456-target
      source: '1723798758366'
      sourceHandle: source
      target: '1724031006456'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: answer
      id: 1724031006456-source-1723798864791-target
      source: '1724031006456'
      sourceHandle: source
      target: '1723798864791'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: parameter-extractor
      id: 1723801465402-source-1724031596865-target
      source: '1723801465402'
      sourceHandle: source
      target: '1724031596865'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: parameter-extractor
        targetType: assigner
      id: 1724031596865-source-1724031601959-target
      source: '1724031596865'
      sourceHandle: source
      target: '1724031601959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: answer
      id: 1724031601959-source-1723801749093-target
      source: '1724031601959'
      sourceHandle: source
      target: '1723801749093'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1723801610784-source-1723801465402-target
      source: '1723801610784'
      sourceHandle: source
      target: '1723801465402'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: parameter-extractor
      id: 1724031979405-source-1724032362716-target
      source: '1724031979405'
      sourceHandle: source
      target: '1724032362716'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: parameter-extractor
        targetType: tool
      id: 1724032362716-source-1723804996991-target
      source: '1724032362716'
      sourceHandle: source
      target: '1723804996991'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: assigner
      id: 1723779172536-source-1724032466514-target
      source: '1723779172536'
      sourceHandle: source
      target: '1724032466514'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: tool
      id: 1724032466514-source-1723786011450-target
      source: '1724032466514'
      sourceHandle: source
      target: '1723786011450'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: assigner
      id: 1723798606207-1-1724030206472-target
      source: '1723798606207'
      sourceHandle: '1'
      target: '1724030206472'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: assigner
      id: 1723798606207-2-1724030221343-target
      source: '1723798606207'
      sourceHandle: '2'
      target: '1724030221343'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: assigner
      id: 1723798606207-1723798634824-1724030768378-target
      source: '1723798606207'
      sourceHandle: '1723798634824'
      target: '1724030768378'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: assigner
      id: 1723798606207-1723798669902-1724030785873-target
      source: '1723798606207'
      sourceHandle: '1723798669902'
      target: '1724030785873'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 17237972326250-source-1724031979405-target
      source: '17237972326250'
      sourceHandle: source
      target: '1724031979405'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: tool
      id: 1723798606207-1724037105852-1724037127861-target
      source: '1723798606207'
      sourceHandle: '1724037105852'
      target: '1724037127861'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1724037127861-source-1724037289259-target
      source: '1724037127861'
      sourceHandle: source
      target: '1724037289259'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1724037289259-source-1724037192909-target
      source: '1724037289259'
      sourceHandle: source
      target: '1724037192909'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: if-else
      id: 1724030785873-source-1724047139963-target
      source: '1724030785873'
      sourceHandle: source
      target: '1724047139963'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1724047139963-true-llm-target
      source: '1724047139963'
      sourceHandle: 'true'
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1724047139963-false-1724047164267-target
      source: '1724047139963'
      sourceHandle: 'false'
      target: '1724047164267'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1724047164267-source-1724047155251-target
      source: '1724047164267'
      sourceHandle: source
      target: '1724047155251'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1723769606603'
      position:
        x: 30
        y: 332
      positionAbsolute:
        x: 30
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        prompt_template:
        - id: d0ea1df7-5df4-4660-b7b7-956e6b37a41e
          role: system
          text: '```xml

            <prompt>

            ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ä¸Šä¸‹æ–‡å’Œå®¢æˆ·ä¿¡æ¯ï¼Œå’Œè‚¡ç¥¨ä¿¡æ¯æ•°æ®æ¥åˆ¤æ–­ç”¨æˆ·çš„ç”»åƒï¼Œä½ è¦åˆ†ææ•°æ®ä¸­æ‰€ä½“ç°çš„ç”¨æˆ·çš„é£é™©æ‰¿å—èƒ½åŠ›ï¼ŒæœŸæœ›çš„äº¤æ˜“é¢‘ç‡ï¼Œå¯æ¥å—çš„æœ€å¤§äº¤æ˜“æ³¢åŠ¨ï¼Œå’Œæœ€å¤§å›æ’¤åº¦ã€‚ä½ éœ€è¦æ ¹æ®å®¢æˆ·ä¿¡æ¯å’Œä»–çš„è‚¡ç¥¨ä¿¡æ¯åšå‡ºåˆ¤æ–­ï¼Œå¹¶è¾“å‡ºæ¬¡å†…å®¹ã€‚

            å¯¹è¯å†å²å¤„ï¼š{{#conversation.conv_id#}}

            é—®é¢˜ä¸Šä¸‹æ–‡ï¼š{{#context#}}

            è‚¡ç¥¨ä¿¡æ¯ï¼š{{#conversation.stock_id#}}

            é™¤äº†ç”»åƒä¹‹å¤–ï¼Œä¸éœ€è¦è¾“å‡ºç”»åƒåˆ†æå’Œæ¨å¯¼çš„è¿‡ç¨‹ã€‚

            </prompt>

            ```

            '
        - id: d52ec9b7-1201-435d-a3bd-1cff81d43e27
          role: user
          text: "```xml\n<instructions>\n  <step>é¦–å…ˆï¼Œä»”ç»†å®¡æŸ¥æä¾›çš„ç”¨æˆ·ä¿¡æ¯ä¸è‚¡ç¥¨äº¤æ˜“æ•°æ®ï¼Œç¡®ä¿ç†è§£æ¯ä½å®¢æˆ·çš„ä¸ªäººæ¦‚å†µåŠå…¶åœ¨è‚¡å¸‚ä¸­çš„è¡Œä¸ºæ¨¡å¼ã€‚</step>\n\
            \  <step>æ¥ä¸‹æ¥ï¼Œè¯„ä¼°ç”¨æˆ·çš„â€˜é£é™©æ‰¿å—èƒ½åŠ›â€™ã€‚è¿™éœ€è¦ä½ åˆ†æå®¢æˆ·çš„èµ„äº§é…ç½®ã€å†å²æŠ•èµ„é€‰æ‹©åŠå¯èƒ½çš„å…¬å¼€å£°æ˜å…³äºé£é™©åå¥½çš„ä¿¡æ¯ã€‚å¦‚æœç”¨æˆ·å€¾å‘äºæŠ•èµ„é«˜æ³¢åŠ¨æ€§è‚¡ç¥¨æˆ–é¢‘ç¹äº¤æ˜“ï¼Œå¯æ¨æ–­å…¶é£é™©æ‰¿å—èƒ½åŠ›è¾ƒé«˜ã€‚</step>\n\
            \  <step>åˆ†æâ€˜æœŸæœ›çš„äº¤æ˜“é¢‘ç‡â€™ã€‚é€šè¿‡è§‚å¯Ÿç”¨æˆ·è¿‡å»ä¸€æ®µæ—¶é—´å†…çš„äº¤æ˜“è®°å½•ï¼Œè¯†åˆ«äº¤æ˜“çš„å¯†é›†ç¨‹åº¦ã€‚é¢‘ç¹çš„ä¹°å–æ“ä½œè¡¨æ˜ç”¨æˆ·æœŸæœ›è¾ƒé«˜çš„äº¤æ˜“é¢‘ç‡ã€‚</step>\n\
            \  <step>ç¡®å®šç”¨æˆ·çš„â€˜å¯æ¥å—çš„æœ€å¤§äº¤æ˜“æ³¢åŠ¨â€™ã€‚æŸ¥çœ‹ç”¨æˆ·æŒæœ‰çš„è‚¡ç¥¨å†å²ä»·æ ¼æ³¢åŠ¨æƒ…å†µï¼Œç»“åˆç”¨æˆ·åœ¨è¿™äº›æ³¢åŠ¨æœŸé—´çš„è¡Œä¸ºååº”ï¼Œæ¨æ–­å…¶å¯¹å¸‚åœºæ³¢åŠ¨çš„å®¹å¿åº¦ã€‚</step>\n\
            \  <step>è¯„ä¼°â€˜æœ€å¤§å›æ’¤åº¦â€™ï¼Œå³ç”¨æˆ·èƒ½å®¹å¿çš„æŠ•èµ„ç»„åˆä»·å€¼ä»æœ€é«˜ç‚¹ä¸‹é™çš„æœ€å¤§ç™¾åˆ†æ¯”ã€‚åˆ†æç”¨æˆ·åœ¨å¸‚åœºå›è°ƒæœŸé—´çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯æ˜¯å¦è¿›è¡Œäº†å‡ä»“æˆ–ç»§ç»­æŒæœ‰ï¼Œä»¥åˆ¤æ–­å…¶å¯¹æœ€å¤§å›æ’¤çš„æ¥å—ç¨‹åº¦ã€‚</step>\n\
            \  <step>ç»¼åˆä»¥ä¸Šåˆ†æï¼Œæ„å»ºç”¨æˆ·çš„ç”»åƒæ¦‚è¿°ã€‚ç¡®ä¿æ¦‚è¿°ä»…åŒ…å«ç”¨æˆ·çš„â€˜é£é™©æ‰¿å—èƒ½åŠ›â€™ã€â€˜æœŸæœ›çš„äº¤æ˜“é¢‘ç‡â€™ã€â€˜å¯æ¥å—çš„æœ€å¤§äº¤æ˜“æ³¢åŠ¨â€™å’Œâ€˜æœ€å¤§å›æ’¤åº¦â€™ï¼Œå¹¶ç›´æ¥ä»¥æ–‡æœ¬å½¢å¼è¾“å‡ºç»“æœï¼Œé¿å…ä½¿ç”¨XMLæ ‡ç­¾æˆ–å…¶ä»–æŠ€æœ¯æ€§è¡¨è¿°ã€‚é™¤äº†ç”»åƒä¹‹å¤–ï¼Œä¸éœ€è¦è¾“å‡ºç”»åƒåˆ†æå’Œæ¨å¯¼çš„è¿‡ç¨‹ã€‚</step>\n\
            </instructions>\n\n<examples>\n  <example>\n    <input>ç”¨æˆ·Aï¼Œ45å²ï¼ŒæŠ•èµ„ç»„åˆä¸»è¦ç”±ç§‘æŠ€è‚¡æ„æˆï¼Œè¿‡å»ä¸€å¹´å†…è¿›è¡Œäº†20æ¬¡äº¤æ˜“ï¼Œå¤§éƒ¨åˆ†äº¤æ˜“é›†ä¸­åœ¨å¸‚åœºæ³¢åŠ¨è¾ƒå¤§æ—¶æœŸã€‚</input>\n\
            \    <output>ç”¨æˆ·Aå±•ç°å‡ºäº†ä¸­ç­‰åˆ°é«˜çš„é£é™©æ‰¿å—èƒ½åŠ›ï¼ŒæœŸæœ›çš„äº¤æ˜“é¢‘ç‡ä¸ºä¸­ç­‰ï¼Œå¯æ¥å—è¾ƒå¤§çš„äº¤æ˜“æ³¢åŠ¨ï¼Œæœ€å¤§å›æ’¤åº¦çº¦ä¸º20%ã€‚</output>\n\
            \  </example>\n  <examples>\n```"
        selected: false
        title: å®¢æˆ·ç”»åƒåˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: llm
      position:
        x: 1546
        y: 848
      positionAbsolute:
        x: 1546
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        prompt_template:
        - id: 21296e7c-19eb-4a87-99f4-7b2693799c73
          role: system
          text: "```xml\n  <description>ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®è¾“å…¥çš„ä¸Šä¸‹æ–‡æ¥å¯»æ‰¾å®¢æˆ·çš„å§“åï¼Œå¹¶åªè¾“å‡ºä½ æ‰¾åˆ°çš„å§“åã€‚å¦‚æœæ–‡ä¸­æ²¡æœ‰æ˜ç¡®æåŠå®¢æˆ·çš„å§“åï¼Œåˆ™åº”è¾“å‡ºï¼šâ€œæ— æ³•å®šä½å®¢æˆ·â€ã€‚è¯·ç¡®ä¿è¾“å‡ºç»“æœä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚</description>\n\
            ```\n "
        - id: 755ec5df-9f06-4fd7-8fca-f73ac511614a
          role: user
          text: "```xml \n<instructions>\n    1. ä»”ç»†é˜…è¯»æä¾›çš„ä¸Šä¸‹æ–‡å†…å®¹ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†ä»ä¸­æŠ½å–å‡ºå®¢æˆ·çš„å§“åä¿¡æ¯ã€‚ä¸Šä¸‹æ–‡ï¼š{{#context#}}\n\
            \    2. æ³¨æ„è¯†åˆ«å¯èƒ½è¡¨ç¤ºäººåçš„è¯æ±‡ç»„åˆï¼Œè¿™äº›é€šå¸¸ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ±‰å­—ç»„æˆï¼Œä¸”åœ¨æ–‡æœ¬ä¸­å¯èƒ½ä»¥å…¨åã€å§“æ°åŠ å…ˆç”Ÿ/å¥³å£«ç­‰å½¢å¼å‡ºç°ã€‚\n   \
            \ 3. åœ¨æ–‡æœ¬ä¸­æœç´¢å¸¸è§çš„ç§°è°“å¦‚â€œå…ˆç”Ÿâ€ã€â€œå¥³å£«â€ã€â€œå°å§â€ç­‰ï¼Œè¿™äº›å¾€å¾€ç´§è·Ÿç€å®¢æˆ·çš„å§“åï¼Œå¯ä»¥ä½œä¸ºå¯»æ‰¾å§“åçš„çº¿ç´¢ã€‚\n    4. å¦‚æœå‘ç°æ˜ç¡®çš„å§“åä¿¡æ¯ï¼Œè¯·ç›´æ¥è¾“å‡ºè¯¥å§“åï¼Œä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„æ–‡å­—æˆ–æ ‡ç‚¹ç¬¦å·ã€‚\n\
            \    5. è‹¥ç»è¿‡å…¨é¢æ£€æŸ¥ï¼Œä»æ— æ³•åœ¨æ–‡æœ¬ä¸­å®šä½åˆ°ç¡®åˆ‡çš„å®¢æˆ·å§“åï¼Œåˆ™åº”è¾“å‡ºï¼šâ€œæ— æ³•å®šä½å®¢æˆ·â€ï¼ŒåŒæ ·ä¸éœ€æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹æˆ–æ ¼å¼ã€‚\n  </instructions>\n\
            \n  <examples>\n    <example>\n      <context>å°Šæ•¬çš„å¼ ä¸‰å…ˆç”Ÿï¼Œæ‚¨çš„è®¢å•å·²å¤„ç†å®Œæˆã€‚</context>\n\
            \      <output>å¼ ä¸‰</output>\n    </example>\n    <example>\n      <context>æ„Ÿè°¢æå››å¥³å£«å¯¹æˆ‘ä»¬æœåŠ¡çš„è¯„ä»·ï¼Œæˆ‘ä»¬ä¼šç»§ç»­åŠªåŠ›ã€‚</context>\n\
            \      <output>æå››</output>\n    </example>\n  </examples>\n```"
        selected: false
        title: åå­—æå–
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723771723353'
      position:
        x: 1246
        y: 332
      positionAbsolute:
        x: 1246
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            max_tokens: 2000
            repetition_penalty: 1.1
            seed: 1234
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        prompt_template:
        - id: 316baf25-2b8b-4458-8e60-0252523dd64c
          role: system
          text: '```xml

            <task_description>

            ä½ çš„ä»»åŠ¡æ˜¯ç²¾å‡†åœ°ä»ç»™å®šçš„æ–‡æœ¬ä¸­æŠ½å–å‡ºè‚¡ç¥¨ä¿¡æ¯ã€‚å½“è‚¡ç¥¨ä»£ç ä»¥â€œ000001.SZâ€è¿™æ ·çš„æ ¼å¼ç›´æ¥å‡ºç°æ—¶ï¼Œä½ çš„è¾“å‡ºåº”ç›´æ¥ä¸ºè¯¥è‚¡ç¥¨ä»£ç ã€‚è¯·ç¡®ä¿åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œè¾“å‡ºç»“æœä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾æˆ–è€…â€œè¾“å‡ºâ€å­—æ ·ï¼Œå¹¶ä¸”å¯¹äºè‚¡ç¥¨åç§°çš„å¤„ç†è¦ä¿æŒä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚

            </task_description>

            ```

            '
        - id: 886b89b4-314e-4d14-a0f9-ff5e4c0a1788
          role: user
          text: "```xml\n<instructions>\nä¸ºäº†é«˜æ•ˆå®Œæˆæ­¤ä»»åŠ¡ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š\n1. **åˆ†æè¾“å…¥æ–‡æœ¬**ï¼šä»”ç»†é˜…è¯»å¹¶ç†è§£æä¾›çš„æ–‡æœ¬å†…å®¹ï¼Œå¯»æ‰¾ä¸è‚¡ç¥¨ç›¸å…³çš„æåŠã€‚è¾“å…¥æ–‡æœ¬ä¸Šä¸‹æ–‡ï¼š{{#context#}}\n\
            2. **è¯†åˆ«è‚¡ç¥¨ä¿¡æ¯**ï¼šåˆ¤æ–­è‚¡ç¥¨æ˜¯é€šè¿‡ä»£ç ï¼ˆå¦‚â€œ000001.SZâ€ï¼‰è¿˜æ˜¯åç§°è¢«æåŠã€‚\n   - å¦‚é‡è‚¡ç¥¨ä»£ç ï¼Œç›´æ¥ç¡®è®¤å…¶æ ¼å¼æ­£ç¡®æ— è¯¯åä½œä¸ºè¾“å‡ºã€‚\n\
            \   - è‹¥è‚¡ç¥¨ä»¥åç§°å½¢å¼å‡ºç°ï¼Œæ„é€ è¯¢é—®è‚¡ç¥¨ä»£ç çš„è¯­å¥ï¼Œç¡®ä¿è‚¡ç¥¨åç§°è¢«æ­£ç¡®å¼•ç”¨ã€‚\n3. **æ ¼å¼åŒ–è¾“å‡º**ï¼šç¡®ä¿è¾“å‡ºç»“æœä¸å«XMLæ ‡ç­¾ï¼Œä¸”å¯¹äºè‚¡ç¥¨åç§°çš„å¼•ç”¨ä½¿ç”¨äº†æ­£ç¡®çš„ä¸­æ–‡å¼•å·ï¼ˆâ€˜â€™ï¼‰ã€‚\n\
            4. **éªŒè¯å‡†ç¡®æ€§**ï¼šåœ¨è¾“å‡ºå‰ï¼Œå†æ¬¡æ£€æŸ¥æ˜¯å¦å‡†ç¡®æ— è¯¯åœ°éµå¾ªäº†ä¸Šè¿°æŒ‡å¯¼åŸåˆ™ã€‚\n\nè®°ä½ï¼Œæ— è®ºè‚¡ç¥¨ä¿¡æ¯å¦‚ä½•å‘ˆç°ï¼Œä½ çš„æœ€ç»ˆäº§å‡ºéƒ½éœ€æ¸…æ™°ã€å‡†ç¡®ä¸”ç¬¦åˆæŒ‡å®šæ ¼å¼ã€‚\n\
            </instructions>\n\n<examples>\nä¾‹1ï¼š\n<è¾“å…¥>ï¼šæœ€è¿‘ï¼Œæˆ‘å‘ç°000001.SZçš„èµ°åŠ¿å¾ˆå€¼å¾—å…³æ³¨ã€‚\n<è¾“å‡º>ï¼š000001.SZ\n\
            </examples>\n```"
        selected: false
        title: æå–è‚¡ç¥¨ä»£ç 
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723779172536'
      position:
        x: 1246
        y: 504
      positionAbsolute:
        x: 1246
        y: 504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: d5de4ba5-7654-4334-bee9-6e3e86d919a9
        provider_name: StockInfo
        provider_type: api
        selected: false
        title: è‚¡ç¥¨ç”»åƒ
        tool_configurations: {}
        tool_label: queryStock
        tool_name: queryStock
        tool_parameters:
          query:
            type: mixed
            value: select * from stock_info where ts_code = '{{#1723779172536.text#}}';
        type: tool
      height: 54
      id: '1723786011450'
      position:
        x: 1854
        y: 526
      positionAbsolute:
        x: 1854
        y: 526
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: d5de4ba5-7654-4334-bee9-6e3e86d919a9
        provider_name: StockInfo
        provider_type: api
        selected: false
        title: æå–ç”¨æˆ·ç”»åƒä¿¡æ¯
        tool_configurations: {}
        tool_label: queryStock
        tool_name: queryStock
        tool_parameters:
          query:
            type: mixed
            value: 'select * from customerdata where å§“å = ''{{#1723771723353.text#}}'';    '
        type: tool
      height: 54
      id: '1723789148750'
      position:
        x: 1550
        y: 332
      positionAbsolute:
        x: 1550
        y: 332
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - llm
          - text
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        prompt_template:
        - id: 9cf4fad0-46ad-4c13-8a6f-b6c830758268
          role: system
          text: "```xml\n  <description>\n    ä½ çš„ä»»åŠ¡æ˜¯ä¸ºç”¨æˆ·åŒ¹é…æœ€é€‚åˆçš„è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ï¼Œä¾æ®ç”¨æˆ·çš„ç‰¹å®šéœ€æ±‚ä¸åå¥½è¿›è¡Œç²¾å‡†æ¨èã€‚ä½œä¸ºä¸€ä½å“è¶Šçš„SQLç»“æ„åŒ–æ•°æ®åˆ†æå¸ˆï¼Œä½ å°†åˆ†æç”¨æˆ·ä¿¡æ¯å¹¶ç»“åˆè¯·æ±‚çš„å…·ä½“æƒ…å¢ƒæ¥å†³å®šæœ€åˆé€‚çš„ç­–ç•¥ã€‚ä½ å¯ä»¥é€‰æ‹©çš„ç­–ç•¥å¤„äºç­–ç•¥ä¿¡æ¯ä¸­ï¼Œä»¥sqlæ ¼å¼å‘ˆç°ã€‚è¯·åˆ†æç­–ç•¥ä¿¡æ¯å†ç»™å‡ºç­”æ¡ˆã€‚ä¾‹å¦‚ï¼Œè‹¥ç”¨æˆ·å€¾å‘äºä½é¢‘äº¤æ˜“ï¼Œåˆ™åº”æ¨èä¸­ä½äº¤æ˜“é¢‘ç‡çš„ç­–ç•¥ã€‚å®ŒæˆåŒ¹é…åï¼Œéœ€è¾“å‡ºç­–ç•¥åç§°åŠæ¨èç†ç”±ã€‚ä¸è¦ä»¥ä¸€ä¸ªæŠ•é¡¾çš„èº«ä»½å»è¾“å‡ºå†…å®¹ï¼Œä½ åªéœ€è¦é€‰æ‹©ç»™ä½ çš„ç­–ç•¥ä¿¡æ¯å¹¶å°†å…¶è¾“å‡ºã€‚\n\
            \  </description>\n```\n"
        - id: a05af576-3694-4521-9a2a-c2e5a459cc5b
          role: user
          text: "```xml\n  <instructions>\n    1. **åˆ†æç”¨æˆ·éœ€æ±‚**: é¦–å…ˆï¼Œä»”ç»†å®¡æŸ¥ç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯å…³äºå…¶æœŸæœ›çš„äº¤æ˜“é¢‘ç‡ã€é£é™©æ‰¿å—èƒ½åŠ›ã€æŠ•èµ„æœŸé™ç­‰å…³é”®è¦ç´ ã€‚\n\
            å®¢æˆ·ä¿¡æ¯ï¼š{{#conversation.user_id#}}\nå¯¹è¯ä¸Šä¸‹æ–‡ï¼š{{#conversation.conv_id#}}\né—®é¢˜ä¸Šä¸‹æ–‡ï¼š{{#context#}}\n\
            \n    2. **ç­›é€‰ç­–ç•¥**: æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œåœ¨æ•°æ®åº“ä¸­ç­›é€‰å‡ºç¬¦åˆæ ‡å‡†çš„äº¤æ˜“ç­–ç•¥ã€‚å¦‚ä½é¢‘äº¤æ˜“éœ€æ±‚å¯¹åº”æŸ¥æ‰¾ä¸­ä½äº¤æ˜“é¢‘ç‡çš„ç­–ç•¥ã€‚\n\n\
            \    3. **è¯„ä¼°ä¿¡æ¯ç‡**: å½“ç”¨æˆ·éœ€æ±‚ä¸å…·ä½“æ—¶ï¼Œä»¥ä¿¡æ¯ç‡ä¸ºåŸºå‡†ï¼Œä¼˜å…ˆæ¨èé‚£äº›å†å²è¡¨ç°ä¸­ä¿¡æ¯é‡å¤§ã€æ”¶ç›Šæ½œåŠ›é«˜çš„ç­–ç•¥ã€‚\n    4.\
            \ **ç»¼åˆè€ƒé‡**: è‹¥æœ‰å¤šä¸ªç­–ç•¥åŒæ—¶æ»¡è¶³æ¡ä»¶ï¼Œéœ€è¿›ä¸€æ­¥æ¯”è¾ƒå®ƒä»¬çš„é£é™©è°ƒæ•´å›æŠ¥ç‡ã€å†å²ä¸šç»©ç¨³å®šæ€§ç­‰å› ç´ ï¼Œé€‰æ‹©æœ€ä¼˜ç­–ç•¥ã€‚ä¿¡æ¯ç‡å¤§çš„ç­–ç•¥ä¼˜å…ˆã€‚\n\
            \    5. **è¾“å‡ºç»“æœ**: ç¡®å®šæœ€ç»ˆæ¨èç­–ç•¥åï¼Œè¾“å‡ºç­–ç•¥çš„æ­£å¼åç§°ï¼Œå¹¶ç®€è¦é˜è¿°æ¨èè¯¥ç­–ç•¥çš„å…·ä½“ç†ç”±ï¼Œç¡®ä¿ç”¨æˆ·èƒ½æ¸…æ™°ç†è§£æ¨èèƒŒåçš„é€»è¾‘ã€‚åœ¨è¾“å‡ºç†ç”±çš„æ—¶å€™ï¼Œä¸è¦è¾“å‡ºsqlæ ¼å¼ä¸­çš„å…·ä½“æ•°æ®ã€‚\n\
            \    6. **æ ¼å¼æé†’**: è¾“å‡ºå†…å®¹ä¸åº”åŒ…å«ä»»ä½•XMLæ ‡ç­¾ï¼Œç›´æ¥æä¾›ç­–ç•¥åç§°ä¸æ¨èç†ç”±å³å¯ã€‚\n  </instructions>\n\
            \n  <examples>\n    <example>\n      è¾“å…¥: ç”¨æˆ·å¸Œæœ›è¿›è¡Œé•¿æœŸæŠ•èµ„ï¼Œåå¥½ä½é£é™©ï¼Œå¯¹äº¤æ˜“é¢‘ç‡æ— ç‰¹åˆ«è¦æ±‚ã€‚\n\
            \      è¾“å‡º: ç­–ç•¥åç§° - \"ä»·å€¼æŠ•èµ„é•¿çº¿ç­–ç•¥\"ï¼Œç†ç”± - \"é‰´äºæ‚¨å€¾å‘äºé•¿æœŸæŠ•èµ„ä¸”åå¥½ä½é£é™©ï¼Œæ­¤ç­–ç•¥é€šè¿‡ç²¾é€‰å…·æœ‰ç¨³å®šå¢é•¿æ½œåŠ›çš„è‚¡ç¥¨ï¼Œé€‚åˆä½é¢‘äº¤æ˜“ï¼Œèƒ½æœ‰æ•ˆé™ä½å¸‚åœºæ³¢åŠ¨å¸¦æ¥çš„é£é™©ï¼Œç¬¦åˆæ‚¨çš„æŠ•èµ„ç›®æ ‡ã€‚\"\
            \n    </example>\n    \n    <example>\n      è¾“å…¥: ç”¨æˆ·å¯»æ±‚é«˜é£é™©é«˜å›æŠ¥ï¼Œåå¥½é«˜é¢‘äº¤æ˜“ï¼Œæœ‰è¾ƒå¼ºå¸‚åœºåˆ†æèƒ½åŠ›ã€‚\n\
            \      è¾“å‡º: ç­–ç•¥åç§° - \"æ—¥å†…äº¤æ˜“é«˜é¢‘ç­–ç•¥\"ï¼Œç†ç”± - \"è€ƒè™‘åˆ°æ‚¨è¿½æ±‚é«˜é£é™©é«˜å›æŠ¥å¹¶æ“…é•¿å¸‚åœºåˆ†æï¼Œæ­¤ç­–ç•¥åˆ©ç”¨çŸ­æœŸä»·æ ¼æ³¢åŠ¨è¿›è¡Œé¢‘ç¹äº¤æ˜“ï¼Œæ—¨åœ¨æ•æ‰å¿«é€Ÿç›ˆåˆ©æœºä¼šï¼Œä¸æ‚¨çš„äº¤æ˜“é£æ ¼å’Œé£é™©åå¥½é«˜åº¦åŒ¹é…ã€‚\"\
            \n    </example>\n```"
        - id: deb9e034-0a03-4365-affc-cd4be71126c0
          role: assistant
          text: ''
        selected: false
        title: LLM 5 (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '17237972326250'
      position:
        x: 1850
        y: 826
      positionAbsolute:
        x: 1850
        y: 826
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: ç”¨æˆ·ç”»åƒæå–
        - id: '2'
          name: è‚¡ç¥¨ç”»åƒæå–
        - id: '1723798634824'
          name: è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ç”»åƒæå–
        - id: '1723798669902'
          name: åŒæ„æ‰§è¡Œç­–ç•¥å›æµ‹æ¥çœ‹æ•ˆæœ
        - id: '1724037105852'
          name: è‚¡ç¥¨å¦‚ä½•
        desc: ''
        instruction: ''
        instructions: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        query_variable_selector:
        - '1723769606603'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨ 2
        topics: []
        type: question-classifier
      height: 304
      id: '1723798606207'
      position:
        x: 462.57142857142856
        y: 389.1428571428572
      positionAbsolute:
        x: 462.57142857142856
        y: 389.1428571428572
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        prompt_template:
        - id: ea583076-db9e-453e-9a4e-f42f823f2390
          role: system
          text: "```xml\n<prompt>\nä¸€å¥è¯æ¦‚æ‹¬æ€»ç»“è¿”å›çš„æ•°æ®ï¼Œå¯¹å®¢æˆ·è¡¨ç¤ºå…³å¿ƒã€‚æ ¹æ®è°ƒå–åˆ°çš„ç”¨æˆ·ä¿¡æ¯å›åº”ç”¨æˆ·ã€‚åŒæ—¶å›å¤å®¢æˆ·â€œé‚£æ‚¨è‚¡ç¥¨éƒ½é€‰äº†å“ªäº›å‘¢ï¼Ÿæ•ˆæœå¦‚ä½•ï¼Ÿâ€\n\
            </prompt>\n \n```"
        - id: 646f928e-e332-44e8-9efe-0a6460ce11ee
          role: user
          text: " <instructions>\n    1. é¦–å…ˆï¼Œä»”ç»†åˆ†ææä¾›çš„æ•°æ®æ‘˜è¦ï¼Œç¡®ä¿ç†è§£äº†æ•°æ®çš„æ ¸å¿ƒè¦ç‚¹ã€‚æ•°æ®æ‘˜è¦åº”ä¸ºä¸€å¥ç®€ç»ƒçš„è¯ï¼Œæ¦‚æ‹¬äº†å…³é”®ä¿¡æ¯ã€‚ä½ éœ€è¦åˆ†æä¸Šä¸‹æ–‡å’Œå®¢æˆ·ç”»åƒã€‚\n\
            ä¸Šä¸‹æ–‡ï¼š{{#context#}}\nå®¢æˆ·ç”»åƒï¼š{{#1723789148750.text#}}\n    2. åœ¨è¡¨è¾¾ä¸­ä½“ç°å‡ºå¯¹å®¢æˆ·çš„å…³æ€€ä¹‹æƒ…ï¼Œå¯ä»¥ä½¿ç”¨æ¸©å’Œçš„è¯­æ°”å’Œå…³åˆ‡çš„è¯æ±‡ï¼Œè®©å®¢æˆ·æ„Ÿå—åˆ°ä¸ªæ€§åŒ–ä¸è¢«é‡è§†ã€‚\n\
            \    3. ç´§æ¥ç€ï¼Œè‡ªç„¶è¿‡æ¸¡åˆ°è¯¢é—®å®¢æˆ·çš„è‚¡ç¥¨é€‰æ‹©æƒ…å†µï¼Œç”¨è¯­è¦å‹å¥½ä¸”å¸¦æœ‰è½»å¾®çš„å¥½å¥‡å¿ƒï¼Œæ—¨åœ¨é¼“åŠ±å®¢æˆ·åˆ†äº«ä»–ä»¬çš„æŠ•èµ„ç»éªŒã€‚\n    4. æœ€åï¼Œè¯¢é—®å®¢æˆ·æŠ•èµ„çš„æ•ˆæœï¼Œæ˜¾ç¤ºå‡ºä½ å¯¹ä»–ä»¬æŠ•èµ„æˆæœçš„å…´è¶£ï¼ŒåŒæ—¶ä¿æŒå¯¹è¯çš„å¼€æ”¾æ€§ï¼Œä»¥ä¾¿æ ¹æ®å®¢æˆ·çš„å›ç­”è¿›ä¸€æ­¥äº¤æµã€‚ä¸€å®šè¦é—®å…³äºç”¨æˆ·çš„è‚¡ç¥¨é€‰æ‹©ã€‚\n\
            \    5. ç¡®ä¿è¾“å‡ºå†…å®¹ä¸å«ä»»ä½•XMLæ ‡ç­¾ï¼Œç›´æ¥å‘ˆç°å®Œæ•´çš„ã€è‡ªç„¶è¯­è¨€çš„å¥å­ç»™å®¢æˆ·ã€‚\n  </instructions>\n\n  <examples>\n\
            \    <example>\n      è¾“å…¥æ•°æ®æ‘˜è¦: \"è¿‘æœŸè‚¡å¸‚æ•´ä½“å‘ˆä¸Šæ¶¨è¶‹åŠ¿ï¼Œç§‘æŠ€è‚¡è¡¨ç°å°¤ä¸ºçªå‡ºã€‚\"\n      è¾“å‡ºç¤ºä¾‹:\
            \ \"äº†è§£åˆ°æœ€è¿‘è‚¡å¸‚å¤§ç¯å¢ƒä¸é”™ï¼Œç‰¹åˆ«æ˜¯ç§‘æŠ€è‚¡è¡¨ç°æŠ¢çœ¼ï¼ŒçœŸæ˜¯è®©äººæŒ¯å¥‹çš„æ¶ˆæ¯å‘¢ï¼é‚£æ‚¨è‚¡ç¥¨éƒ½é€‰äº†å“ªäº›å‘¢ï¼Ÿæ•ˆæœå¦‚ä½•ï¼Ÿ\"\n    </example>\n\
            \    \n    <example>\n      è¾“å…¥æ•°æ®æ‘˜è¦: \"å—å›½é™…æ²¹ä»·å½±å“ï¼Œèƒ½æºæ¿å—æœ¬å‘¨æœ‰è¾ƒå¤§æ³¢åŠ¨ã€‚\"\n      è¾“å‡ºç¤ºä¾‹:\
            \ \"çœ‹æ¥å›½é™…æ²¹ä»·çš„å˜åŠ¨ç»™èƒ½æºæ¿å—å¸¦æ¥äº†ä¸å°‘æ³¢æ¾œï¼Œè¿™å‘¨å¯¹æŠ•èµ„è€…æ¥è¯´æŒºè€ƒéªŒå¿ƒæ€çš„ã€‚æ‚¨åœ¨èƒ½æºæ¿å—æœ‰æ²¡æœ‰å¸ƒå±€ï¼Ÿæ„Ÿå—å¦‚ä½•å‘€ï¼Ÿ\"\n    </example>\n\
            \    \n    <example>\n      è¾“å…¥æ•°æ®æ‘˜è¦: \"éšç€ç»æµå¤è‹æ­¥ä¼åŠ å¿«ï¼Œé“¶è¡Œè‚¡å±•ç°å‡ºç¨³å®šçš„å¢é•¿æ€åŠ¿ã€‚\"\n  \
            \    è¾“å‡ºç¤ºä¾‹: \"ç»æµå›æš–çš„æ­¥ä¼åŠ å¿«ï¼Œé“¶è¡Œè‚¡ä½œä¸ºç¨³å®šå¢é•¿çš„ä»£è¡¨ï¼Œå¸å¼•äº†è®¸å¤šç›®å…‰ã€‚ä¸çŸ¥é“æ‚¨æœ‰æ²¡æœ‰å…³æ³¨è¿™å—é¢†åŸŸï¼Ÿæ‚¨çš„é€‰æ‹©å¸¦æ¥äº†æ€æ ·çš„æˆæ•ˆå‘¢ï¼Ÿ\"\
            \n    </example>\n  </examples>\n  \n  <reminders>\n    - ä¿æŒè¯­è¨€çš„äº²åˆ‡ä¸ä¸“ä¸šå¹¶é‡ï¼Œç¡®ä¿å®¢æˆ·æ„Ÿåˆ°èˆ’é€‚å¹¶æ„¿æ„åˆ†äº«ã€‚\n\
            \    - æ ¹æ®æ•°æ®æ‘˜è¦çµæ´»è°ƒæ•´å›åº”çš„å†…å®¹ï¼Œä½¿ä¹‹ç´§å¯†ç›¸å…³ï¼Œä½“ç°å¯¹è¯çš„è¿è´¯æ€§ã€‚\n    - åœ¨è¯¢é—®æ—¶ä¿æŒç¤¼è²Œå’Œå°Šé‡ï¼Œé¿å…ç»™å®¢æˆ·å¸¦æ¥å‹åŠ›æ„Ÿã€‚\n\
            \  </reminders>"
        selected: false
        title: ç”¨æˆ·ç”»åƒå›å¤
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723798758366'
      position:
        x: 1854
        y: 332
      positionAbsolute:
        x: 1854
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1723798758366.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 107
      id: '1723798864791'
      position:
        x: 2462
        y: 332
      positionAbsolute:
        x: 2462
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: spark-3.5
          provider: spark
        prompt_template:
        - id: 31c5ae08-7bd4-4d28-b4aa-1f3c09c70b8c
          role: system
          text: "```xml\n  <description>\n    åœ¨æ­¤ä»»åŠ¡ä¸­ï¼Œæ‚¨çš„ç›®æ ‡æ˜¯æ€»ç»“ç”¨æˆ·æä¾›çš„ä¸€ç³»åˆ—è‚¡ç¥¨æ•°æ®ä¿¡æ¯ï¼Œå¹¶è¿›ä¸€æ­¥è¯¢é—®ç”¨æˆ·çš„äº¤æ˜“æ–¹å¼åŠæ˜¯å¦è¿ç”¨äº†ç‰¹å®šç­–ç•¥ã€‚è¯·ç¡®ä¿åœ¨å›å¤ä¸­ä½“ç°å‡ºå¯¹ç”¨æˆ·æ‰€æä¾›è‚¡ç¥¨ä¿¡æ¯çš„ç†è§£ï¼Œå¹¶è‡ªç„¶è¿‡æ¸¡åˆ°è¯¢é—®å…¶äº¤æ˜“ç­–ç•¥ï¼Œä»¥ä¿ƒè¿›æ·±å…¥äº¤æµã€‚\n\
            \  </description>\n\n  "
        - id: 86b7d898-e712-4d0f-a31a-11c2ca0c2546
          role: user
          text: "<instructions>\n    1. **ç†è§£è¾“å…¥ä¿¡æ¯**ï¼šé¦–å…ˆï¼Œä»”ç»†å®¡æŸ¥ç”¨æˆ·æä¾›çš„è‚¡ç¥¨æ•°æ®ã€‚è¿™é€šå¸¸åŒ…æ‹¬è‚¡ç¥¨ä»£ç ã€æŒæœ‰æ•°é‡ã€è´­ä¹°ä»·æ ¼ç­‰å…³é”®ä¿¡æ¯ã€‚ç¡®ä¿æ‚¨å¯¹æ¯åªè‚¡ç¥¨çš„åŸºæœ¬æ¦‚å†µæœ‰æ¸…æ™°çš„è®¤è¯†ã€‚ç”¨æˆ·ä¼šä»ä¸Šä¸‹æ–‡ä¸­é€éœ²ä»–çš„è‚¡ç¥¨ä¿¡æ¯ï¼Œä¹Ÿä¼šä»è‚¡ç¥¨ç”»åƒæ–¹é¢å±•ç¤ºè¿™äº›ä¿¡æ¯ã€‚è¯·ç»¼åˆä»–ä»¬å†è¾“å‡ºã€‚\n\
            ä¸Šä¸‹æ–‡ï¼š{{#context#}}\nè‚¡ç¥¨ç”»åƒï¼š{{#1723786011450.text#}}\nå®¢æˆ·ç”»åƒï¼š{{#conversation.conv_id#}}\n\
            \n\n    2. **æ€»ç»“è‚¡ç¥¨ä¿¡æ¯**ï¼šåŸºäºæ”¶é›†åˆ°çš„æ•°æ®ï¼Œç®€è¦æ€»ç»“ç”¨æˆ·çš„æŠ•èµ„ç»„åˆæƒ…å†µã€‚æåŠå…·ä½“çš„è‚¡ç¥¨åç§°æˆ–ä»£ç ï¼ˆæ— éœ€å®é™…æ•°å€¼ï¼‰ï¼Œå¹¶æ¦‚æ‹¬æ€§åœ°æè¿°å…¶æŠ•èµ„åˆ†å¸ƒï¼Œå¦‚â€œæ‚¨ä¼¼ä¹åœ¨ç§‘æŠ€å’Œèƒ½æºæ¿å—éƒ½æœ‰æ¶‰è¶³â€ã€‚\n\
            \n    3. **è¿‡æ¸¡è‡³äº¤æ˜“ç­–ç•¥çš„è¯¢é—®**ï¼šåœ¨æ€»ç»“ä¹‹åï¼Œç”¨å‹å¥½ä¸”å¥½å¥‡çš„è¯­æ°”è¯¢é—®ç”¨æˆ·çš„äº¤æ˜“ä¹ æƒ¯å’Œç­–ç•¥ã€‚ç¡®ä¿æé—®æ—¢ä¸“ä¸šåˆæ˜“äºç†è§£ï¼Œä¾‹å¦‚ï¼šâ€œé‚£æ‚¨åœ¨ç®¡ç†è¿™äº›å¤šæ ·åŒ–çš„è‚¡ç¥¨æ—¶ï¼Œé‡‡å–äº†å“ªäº›äº¤æ˜“ç­–ç•¥å‘¢ï¼Ÿæ˜¯å¦æœ‰éµå¾ªç‰¹å®šçš„å¸‚åœºåˆ†ææ–¹æ³•æˆ–æ˜¯ä¾èµ–æŸäº›å·¥å…·è¾…åŠ©å†³ç­–ï¼Ÿâ€\n\
            \n    4. **å¼ºè°ƒäº’åŠ¨æ€§**ï¼šåœ¨ç»“å°¾å¤„ï¼Œå¯ä»¥æš—ç¤ºæœŸå¾…ç”¨æˆ·çš„è¯¦ç»†åˆ†äº«ï¼Œå¢å¼ºå¯¹è¯çš„äº’åŠ¨æ€§ï¼Œæ¯”å¦‚ï¼šâ€œéå¸¸æœŸå¾…èƒ½å¬åˆ°æ‚¨çš„äº¤æ˜“æ™ºæ…§ï¼Œæˆ–è®¸æˆ‘ä»¬è¿˜èƒ½ä»ä¸­ç›¸äº’å­¦ä¹ ä¸€äºŒï¼â€\n\
            \n    5. **è¾“å‡ºæ ¼å¼æ³¨æ„**ï¼šç¡®ä¿å›å¤ä¸­ä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾ï¼Œç›´æ¥å‘ˆç°ä¸ºè‡ªç„¶è¯­è¨€æ–‡æœ¬ï¼Œä»¥ä¾¿äºç”¨æˆ·é˜…è¯»å’Œç†è§£ã€‚\n  </instructions>\n\
            \n    <example>\n      <input>\n        ç”¨æˆ·æä¾›ï¼šæŒæœ‰AAPL 100è‚¡ï¼Œè´­å…¥ä»·$150ï¼›MSFT\
            \ 50è‚¡ï¼Œè´­å…¥ä»·$300ã€‚\n      </input>\n      <output>\n        æ‚¨çš„æŠ•èµ„ç»„åˆæ¶µç›–äº†ç§‘æŠ€å·¨å¤´AAPLå’ŒMSFTï¼Œçœ‹æ¥æ‚¨å¯¹ç§‘æŠ€è¡Œä¸šé¢‡æœ‰ä¿¡å¿ƒã€‚åœ¨ç®¡ç†è¿™äº›ä¼˜è´¨èµ„äº§æ—¶ï¼Œæ‚¨æ˜¯å¦æœ‰ä¸€å¥—ç‹¬ç‰¹çš„äº¤æ˜“ç­–ç•¥æˆ–åˆ†ææ–¹æ³•å‘¢ï¼Ÿæ¯”å¦‚è¯´ï¼Œæ‚¨æ˜¯æ›´å€¾å‘äºé•¿æœŸæŒæœ‰è¿˜æ˜¯é¢‘ç¹äº¤æ˜“ï¼ŸæœŸå¾…å¬å¬æ‚¨çš„è§è§£ï¼\n\
            \      </output>\n    </example>\n\n        "
        selected: false
        title: è‚¡ç¥¨ç”»åƒå›å¤
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723798913328'
      position:
        x: 2462
        y: 508.5
      positionAbsolute:
        x: 2462
        y: 508.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1723798913328.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 4
        type: answer
        variables: []
      height: 107
      id: '1723798969767'
      position:
        x: 2766
        y: 504
      positionAbsolute:
        x: 2766
        y: 504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1723805737414.result#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 107
      id: '1723799352247'
      position:
        x: 3978
        y: 848
      positionAbsolute:
        x: 3978
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        prompt_template:
        - id: c9f1c655-b549-4f06-86ef-bdac5d3e020c
          role: system
          text: '```xml

            <task_definition>

            ä½ çš„ä»»åŠ¡æ˜¯ç»¼åˆåˆ†æä¸Šä¸‹æ–‡ä¸å®¢æˆ·ä¿¡æ¯ï¼Œä»¥åŠè‚¡ç¥¨äº¤æ˜“æ•°æ®ï¼Œä»¥æç»˜ç”¨æˆ·çš„è¯¦ç»†æŠ•èµ„ç”»åƒã€‚è¿™åŒ…æ‹¬è¯„ä¼°ç”¨æˆ·çš„é£é™©æ‰¿å—ç­‰çº§ã€æœŸæœ›çš„äº¤æ˜“æ´»è·ƒåº¦ã€å¯å®¹å¿çš„æœ€å¤§æ”¶ç›Šæ³¢åŠ¨èŒƒå›´ï¼Œä»¥åŠåœ¨æŠ•èµ„è¿‡ç¨‹ä¸­èƒ½æ¥å—çš„æœ€å¤§èµ„é‡‘å›æ’¤å¹…åº¦ã€‚ä½ åº”è¯¥ä¾æ®æä¾›çš„å®¢æˆ·èƒŒæ™¯èµ„æ–™å’Œå…¶è‚¡ç¥¨äº¤æ˜“è®°å½•ï¼Œè¿›è¡Œç»†è‡´åˆ†æå¹¶å½¢æˆç»“è®ºã€‚

            ä½ è¦åˆ†æçš„ä¸Šä¸‹æ–‡å¤„äºï¼š{{#context#}}ä¸­

            å®¢æˆ·ä¿¡æ¯ä¸ºï¼š{{#conversation.user_id#}}


            é™¤äº†ç”»åƒä¹‹å¤–ï¼Œä¸éœ€è¦è¾“å‡ºç”»åƒåˆ†æå’Œæ¨å¯¼çš„è¿‡ç¨‹ã€‚ä¸è¦ä»¥ä¸€ä¸ªæŠ•é¡¾çš„èº«ä»½å»è¾“å‡ºå†…å®¹ï¼Œä½ åªéœ€è¦é€‰æ‹©ç»™ä½ çš„ç­–ç•¥ä¿¡æ¯å¹¶å°†å…¶è¾“å‡ºã€‚

            </task_definition>

            ```'
        - id: 838ba604-71cf-4fb3-9b37-572248431aaf
          role: user
          text: "<instructions>\nè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤æ¥å®Œæˆç”¨æˆ·æŠ•èµ„ç”»åƒçš„æ„å»ºä»»åŠ¡ï¼š\n\n1. **é£é™©æ‰¿å—èƒ½åŠ›åˆ†æ**ï¼š\n   -\
            \ é¦–å…ˆï¼Œå®¡æŸ¥å®¢æˆ·çš„å¹´é¾„ã€èŒä¸šç¨³å®šæ€§ã€æ”¶å…¥æ°´å¹³åŠå·²æœ‰æŠ•èµ„ç»„åˆåˆ†å¸ƒç­‰ä¿¡æ¯ï¼Œä»¥æ­¤ä¸ºä¾æ®åˆæ­¥åˆ¤æ–­å…¶å¯èƒ½çš„é£é™©åå¥½ã€‚\n   - åˆ†æè‚¡ç¥¨äº¤æ˜“è®°å½•ä¸­çš„æŠ•èµ„é€‰æ‹©ï¼ˆå¦‚åå¥½é«˜é£é™©çš„ç§‘æŠ€è‚¡è¿˜æ˜¯ç¨³å¥çš„è“ç­¹è‚¡ï¼‰ã€æŒä»“æ—¶é—´åŠäº¤æ˜“é¢‘ç‡ï¼Œè¿›ä¸€æ­¥ç»†åŒ–é£é™©æ‰¿å—ç­‰çº§ã€‚\n\
            \n2. **æœŸæœ›äº¤æ˜“é¢‘ç‡è¯„ä¼°**ï¼š\n   - é€šè¿‡å®¢æˆ·å†å²äº¤æ˜“è®°å½•ï¼Œè®¡ç®—å¹³å‡äº¤æ˜“é—´éš”å¤©æ•°ï¼Œè¯†åˆ«å…¶äº¤æ˜“ä¹ æƒ¯æ˜¯å€¾å‘äºé¢‘ç¹äº¤æ˜“è¿˜æ˜¯é•¿æœŸæŒæœ‰ã€‚\n\
            \   - ç»“åˆå®¢æˆ·è®¿è°ˆæˆ–é—®å·åé¦ˆä¸­å…³äºç†æƒ³çš„æŠ•èµ„å‘¨æœŸæè¿°ï¼Œç»¼åˆç¡®å®šå…¶æœŸæœ›çš„äº¤æ˜“é¢‘ç‡ã€‚\n\n3. **æœ€å¤§äº¤æ˜“æ³¢åŠ¨å®¹å¿åº¦åˆ†æ**ï¼š\n \
            \  - è§‚å¯Ÿå®¢æˆ·è´¦æˆ·çš„å†å²æ”¶ç›Šç‡æ³¢åŠ¨æƒ…å†µï¼Œç‰¹åˆ«æ˜¯æç«¯å¸‚åœºæ¡ä»¶ä¸‹çš„è¡¨ç°ï¼Œä»¥è¯„ä¼°å…¶å¯¹æŠ•èµ„ä»·å€¼æ³¢åŠ¨çš„å®¹å¿åº¦ã€‚\n   - è€ƒè™‘å®¢æˆ·åœ¨é¢å¯¹æŠ•èµ„äºæŸæ—¶çš„æ€åº¦å’Œè¡Œä¸ºååº”ï¼Œç»“åˆå…¶å£å¤´è¡¨è¾¾çš„å®¹å¿ç•Œé™ï¼Œç•Œå®šå¯æ¥å—çš„æœ€å¤§æ”¶ç›Šæ³¢åŠ¨èŒƒå›´ã€‚\n\
            \n4. **æœ€å¤§å›æ’¤åº¦è€ƒé‡**ï¼š\n   - è®¡ç®—å®¢æˆ·æŠ•èµ„ç»„åˆçš„å†å²æœ€å¤§å›æ’¤å€¼ï¼Œå¹¶ä¸å®¢æˆ·åœ¨è®¿è°ˆä¸­æåŠçš„å¯æ¥å—æŸå¤±æ¯”ä¾‹è¿›è¡Œå¯¹æ¯”ã€‚\n   -\
            \ åˆ†æå®¢æˆ·åœ¨ç»å†è¾ƒå¤§èµ„é‡‘å›æ’¤åçš„åº”å¯¹ç­–ç•¥ï¼ˆå¦‚æ˜¯å¦åŠ ä»“ã€å‡ä»“æˆ–ä¿æŒä¸å˜ï¼‰ï¼Œä»¥æ›´å‡†ç¡®åœ°ç•Œå®šå…¶å¿ƒç†ä¸Šå¯æ¥å—çš„æœ€å¤§å›æ’¤åº¦ã€‚\n\næœ€åï¼Œç¡®ä¿æ‰€æœ‰åˆ†æç»“æœå‡ä»¥æ¸…æ™°ã€éæŠ€æœ¯æ€§çš„è¯­è¨€è¡¨è¿°ï¼Œç›´æ¥è¾“å‡ºç”¨æˆ·çš„ç”»åƒæ¦‚è¿°ï¼Œä¸åŒ…å«XMLæ ‡ç­¾ã€‚è¯·ç›´æ¥é™ˆè¿°ç»“è®ºï¼Œä¾‹å¦‚ï¼šâ€œè¯¥ç”¨æˆ·å±äºä¸­ç­‰é£é™©åå¥½è€…ï¼Œå€¾å‘äºæ¯å­£åº¦è°ƒæ•´ä¸€æ¬¡æŠ•èµ„ç»„åˆï¼Œèƒ½æ¥å—çš„æœ€å¤§å¹´åŒ–æ³¢åŠ¨ç‡ä¸º15%ï¼Œå¹¶åœ¨èµ„é‡‘å›æ’¤è¾¾åˆ°20%æ—¶ä¼šè€ƒè™‘è°ƒæ•´ç­–ç•¥ã€‚â€\n\
            </instructions>\n\n"
        selected: false
        title: LLM 7
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723801029796'
      position:
        x: 1246
        y: 676
      positionAbsolute:
        x: 1246
        y: 676
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1723801029796'
          - text
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            repetition_penalty: 1.1
            seed: 1234
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        prompt_template:
        - id: 2ef7b240-01d7-48d8-b3c5-8030af03e207
          role: system
          text: "```xml\n<prompt>\n    <description>\n        ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„ç‰¹å®šéœ€æ±‚ä¸åå¥½ï¼Œç²¾å‡†æ¨èæœ€é€‚åˆçš„è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ã€‚ä½œä¸ºä¸€ä½ä¸“ä¸šçš„SQLç»“æ„åŒ–æ•°æ®åˆ†æå¸ˆï¼Œä½ éœ€åˆ†æç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶åœ¨ç»™å®šçš„ç­–ç•¥ä¿¡æ¯åº“ä¸­ï¼Œåˆ©ç”¨SQLæŸ¥è¯¢æŒ‘é€‰å‡ºæœ€åˆé€‚çš„äº¤æ˜“ç­–ç•¥ã€‚è¯·ç¡®ä¿è¾“å‡ºç»“æœç›´æ¥æä¾›ç­–ç•¥è¯¦æƒ…ï¼Œä¸”ä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚åœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œè¯¢é—®å®¢æˆ·éœ€ä¸éœ€è¦æŸ¥çœ‹è¯¥ç­–ç•¥ä¸‹çš„æ•ˆæœã€‚è¯·åˆ†æç­–ç•¥ä¿¡æ¯å†ç»™å‡ºç­”æ¡ˆã€‚ä¾‹å¦‚ï¼Œè‹¥ç”¨æˆ·å€¾å‘äºä½é¢‘äº¤æ˜“ï¼Œåˆ™åº”æ¨èä¸­ä½äº¤æ˜“é¢‘ç‡çš„ç­–ç•¥ã€‚å®ŒæˆåŒ¹é…åï¼Œéœ€è¾“å‡ºç­–ç•¥åç§°åŠæ¨èç†ç”±ã€‚ä¸è¦ä»¥ä¸€ä¸ªæŠ•é¡¾çš„èº«ä»½å»è¾“å‡ºå†…å®¹ï¼Œä½ åªéœ€è¦é€‰æ‹©ç»™ä½ çš„ç­–ç•¥ä¿¡æ¯å¹¶å°†å…¶è¾“å‡ºã€‚SQLä¸­æ•´æ•°æ•°å€¼åœ¨1-10ä¹‹é—´ï¼Œ1æœ€å°10æœ€å¤§ã€‚\n\
            \    </description>\n"
        - id: a46429f4-998d-4ba2-bb32-34b4df1c91c7
          role: user
          text: "\n    <instructions>\n        1. **ç†è§£ç”¨æˆ·éœ€æ±‚**: é¦–å…ˆï¼Œä»”ç»†é˜…è¯»ç”¨æˆ·æä¾›çš„ä¿¡æ¯ä¸åå¥½ï¼Œè¿™å¯èƒ½åŒ…æ‹¬ä½†ä¸é™äºé£é™©æ‰¿å—èƒ½åŠ›ã€æŠ•èµ„æœŸé™ã€æœŸæœ›æ”¶ç›Šã€å¸‚åœºç»éªŒç­‰ã€‚\n\
            \nä½ çš„ä¸Šä¸‹æ–‡å¤„äºï¼š{{#context#}}\néœ€è¦ä½ ç­›é€‰åˆ†æçš„äº¤æ˜“ç­–ç•¥å¤„äºï¼š{{#1723801610784.text#}}\nå¯¹è¯å†å²ä¸Šä¸‹æ–‡ï¼š{{#conversation.conv_id#}}\n\
            ç”¨æˆ·ç”»åƒï¼š{{#conversation.user_id#}}\n\n        2. **åˆ†æç­–ç•¥ä¿¡æ¯**: ç†Ÿæ‚‰ç­–ç•¥ä¿¡æ¯æ•°æ®åº“çš„ç»“æ„ï¼Œè¯¥æ•°æ®åº“ä»¥SQLæ ¼å¼å­˜å‚¨äº†å¤šç§è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ï¼Œæ¯æ¡ç­–ç•¥è®°å½•åŒ…å«ç­–ç•¥IDã€ç­–ç•¥æè¿°ã€é€‚ç”¨å¸‚åœºæ¡ä»¶ã€é¢„æœŸæ”¶ç›Šç‡ã€é£é™©ç­‰çº§ç­‰å…³é”®å­—æ®µã€‚\n\
            \n\n        3. **æ„å»ºSQLæŸ¥è¯¢**: æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œè®¾è®¡ä¸€ä¸ªæˆ–å¤šä¸ªSQLæŸ¥è¯¢è¯­å¥æ¥ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„ç­–ç•¥ã€‚ç¡®ä¿æŸ¥è¯¢æ¡ä»¶ç²¾ç¡®æ˜ å°„åˆ°ç”¨æˆ·çš„æ¯ä¸€ä¸ªå…³é”®åå¥½ä¸Šã€‚\n\
            \        4. **æ‰§è¡ŒæŸ¥è¯¢å¹¶è§£æç»“æœ**: è¿è¡ŒSQLæŸ¥è¯¢è·å–æ•°æ®ï¼Œä»ç»“æœé›†ä¸­æŒ‘é€‰å‡ºæœ€ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„ç­–ç•¥ã€‚å¦‚æœæœ‰å¤šä¸ªç­–ç•¥æ»¡è¶³æ¡ä»¶ï¼Œä¼˜å…ˆè€ƒè™‘é‚£äº›æ›´å…¨é¢æ»¡è¶³ç”¨æˆ·åå¥½çš„ç­–ç•¥ã€‚ä¸è¦åœ¨å›ç­”ä¸­è¾“å‡ºå…·ä½“çš„sqlä¸­çš„æ•°æ®ï¼Œåªè¦ç»™å‡ºåˆç†çš„ç†ç”±ã€‚\n\
            \        5. **å‡†å¤‡è¾“å‡º**: å°†é€‰ä¸­çš„ç­–ç•¥è¯¦æƒ…æ•´ç†æˆæ˜“äºç†è§£çš„æ–‡æœ¬æ ¼å¼ï¼Œç›´æ¥åˆ—å‡ºç­–ç•¥åç§°ã€ç®€è¦æè¿°ã€é¢„æœŸæ”¶ç›ŠèŒƒå›´ã€é£é™©ç­‰çº§ç­‰æ ¸å¿ƒä¿¡æ¯ï¼Œç¡®ä¿è¾“å‡ºä¸å«XMLæ ‡ç­¾ã€‚ä¸è¦åœ¨å›ç­”ä¸­è¾“å‡ºå…·ä½“çš„sqlç»“æ„çš„æ•°å­—å’Œæ•°æ®ã€‚\n\
            \    </instructions>\n\n        <example>\n            <input>\n     \
            \           ç”¨æˆ·Aå¸Œæœ›å¯»æ‰¾é€‚åˆä¸­é•¿æœŸæŠ•èµ„ï¼Œé£é™©åå¥½ä¸ºä¸­ç­‰ï¼ŒæœŸæœ›å¹´åŒ–æ”¶ç›Šç‡ä¸ä½äº10%çš„ç­–ç•¥ã€‚\n            </input>\n\
            \            <output>\n                æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæ¨èâ€œä»·å€¼æŠ•èµ„ç­–ç•¥â€ã€‚è¯¥ç­–ç•¥é€‚ç”¨äºä¸­é•¿æœŸæŠ•èµ„ï¼Œé£é™©ç­‰çº§ä¸ºä¸­ç­‰ï¼Œå†å²æ•°æ®æ˜¾ç¤ºå¹³å‡å¹´åŒ–æ”¶ç›Šç‡çº¦ä¸º12%-15%ã€‚\n\
            \            </output>\n        </example>\n\n"
        selected: false
        title: ç­–ç•¥åŒ¹é…
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1723801465402'
      position:
        x: 1854
        y: 676
      positionAbsolute:
        x: 1854
        y: 676
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: d5de4ba5-7654-4334-bee9-6e3e86d919a9
        provider_name: StockInfo
        provider_type: api
        selected: false
        title: ç­–ç•¥è°ƒå–
        tool_configurations: {}
        tool_label: queryStock
        tool_name: queryStock
        tool_parameters:
          query:
            type: mixed
            value: select * from strats;
        type: tool
      height: 54
      id: '1723801610784'
      position:
        x: 1550
        y: 676
      positionAbsolute:
        x: 1550
        y: 676
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1723801465402.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 4
        type: answer
        variables: []
      height: 107
      id: '1723801749093'
      position:
        x: 2766
        y: 676
      positionAbsolute:
        x: 2766
        y: 676
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: 9f0c4c18-ec4b-480f-953f-d05ba7641fc5
        provider_name: run_backTrade
        provider_type: workflow
        selected: false
        title: run_backTrade
        tool_configurations: {}
        tool_label: run_backTrade
        tool_name: run_backTrade
        tool_parameters:
          end_date:
            type: mixed
            value: '20210101'
          start_date:
            type: mixed
            value: '20191231'
          strategy:
            type: mixed
            value: '{{#1724032362716.stratcode#}}'
          strategy_params:
            type: mixed
            value: ''
          ticker_symbol:
            type: mixed
            value: '{{#conversation.ts_code#}}'
        type: tool
      height: 54
      id: '1723804996991'
      position:
        x: 3370
        y: 848
      positionAbsolute:
        x: 3370
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1:str) -> dict:\n    import json\n    arg1 = json.loads(arg1)['text']\n\
          \    return {\n        \"result\": arg1 \n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1723804996991'
          - text
          variable: arg1
      height: 54
      id: '1723805737414'
      position:
        x: 3674
        y: 848
      positionAbsolute:
        x: 3674
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - conv_id
        desc: ''
        input_variable_selector:
        - sys
        - query
        selected: false
        title: è®°å½•å¯¹è¯
        type: assigner
        write_mode: append
      height: 132
      id: '1724030206472'
      position:
        x: 942
        y: 332
      positionAbsolute:
        x: 942
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - conv_id
        desc: ''
        input_variable_selector:
        - sys
        - query
        selected: false
        title: è®°å½•å¯¹è¯2
        type: assigner
        write_mode: append
      height: 132
      id: '1724030221343'
      position:
        x: 942
        y: 504
      positionAbsolute:
        x: 942
        y: 504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - stock_id
        desc: ''
        input_variable_selector:
        - '1723786011450'
        - text
        selected: false
        title: è®°å½•è‚¡ç¥¨ä¿¡æ¯ 3
        type: assigner
        write_mode: over-write
      height: 132
      id: '1724030672645'
      position:
        x: 2158
        y: 504
      positionAbsolute:
        x: 2158
        y: 504
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - conv_id
        desc: ''
        input_variable_selector:
        - sys
        - query
        selected: false
        title: è®°å½•å¯¹è¯ 4
        type: assigner
        write_mode: append
      height: 132
      id: '1724030768378'
      position:
        x: 942
        y: 676
      positionAbsolute:
        x: 942
        y: 676
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - conv_id
        desc: ''
        input_variable_selector:
        - sys
        - query
        selected: false
        title: è®°å½•å¯¹è¯ 5
        type: assigner
        write_mode: append
      height: 132
      id: '1724030785873'
      position:
        x: 942
        y: 848
      positionAbsolute:
        x: 942
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - user_id
        desc: ''
        input_variable_selector:
        - '1723798758366'
        - text
        selected: false
        title: è®°å½•ç”¨æˆ·ä¿¡æ¯ 6
        type: assigner
        write_mode: over-write
      height: 132
      id: '1724031006456'
      position:
        x: 2158
        y: 332
      positionAbsolute:
        x: 2158
        y: 332
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: æå–æ–‡æœ¬ä¸­çš„ç­–ç•¥åå­—åˆ°stratå‚æ•°é‡Œï¼Œä¸è¦æå–ç­–ç•¥æˆ–è€…æ‹¬å·ç­‰å­—æ ·ï¼Œåªè¦åå­—
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        parameters:
        - description: strat
          name: strat
          required: false
          type: string
        query:
        - '1723801465402'
        - text
        reasoning_mode: prompt
        selected: false
        title: ç­–ç•¥æå–
        type: parameter-extractor
        variables: []
      height: 98
      id: '1724031596865'
      position:
        x: 2158
        y: 693
      positionAbsolute:
        x: 2158
        y: 693
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - strats_id
        desc: ''
        input_variable_selector:
        - '1724031596865'
        - strat
        selected: false
        title: è®°å½•ç­–ç•¥8
        type: assigner
        write_mode: over-write
      height: 132
      id: '1724031601959'
      position:
        x: 2462
        y: 663.5
      positionAbsolute:
        x: 2462
        y: 663.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: d5de4ba5-7654-4334-bee9-6e3e86d919a9
        provider_name: StockInfo
        provider_type: api
        selected: false
        title: queryStock
        tool_configurations: {}
        tool_label: queryStock
        tool_name: queryStock
        tool_parameters:
          query:
            type: mixed
            value: 'select ç­–ç•¥ä»£ç  from strats where ç­–ç•¥ = ''{{#conversation.strats_id#}}'';    '
        type: tool
      height: 54
      id: '1724031979405'
      position:
        x: 2762
        y: 870.6560936899375
      positionAbsolute:
        x: 2762
        y: 870.6560936899375
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        instruction: ä»è¾“å…¥ä¸­æå–è‹±æ–‡çš„ç­–ç•¥ä»£ç ï¼Œä¸€èˆ¬ä¸ºâ€œname:namestrategyâ€çš„æ ¼å¼
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        parameters:
        - description: code
          name: stratcode
          required: false
          type: string
        query:
        - '1724031979405'
        - text
        reasoning_mode: prompt
        selected: false
        title: å‚æ•°æå–å™¨ 3
        type: parameter-extractor
        variables: []
      height: 98
      id: '1724032362716'
      position:
        x: 3066
        y: 852.5
      positionAbsolute:
        x: 3066
        y: 852.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        assigned_variable_selector:
        - conversation
        - ts_code
        desc: ''
        input_variable_selector:
        - '1723779172536'
        - text
        selected: false
        title: å˜é‡èµ‹å€¼ 8
        type: assigner
        write_mode: over-write
      height: 132
      id: '1724032466514'
      position:
        x: 1550
        y: 465
      positionAbsolute:
        x: 1550
        y: 465
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: 92c0b4b2-4669-4431-be02-6bece3c4bb67
        provider_name: è‚¡ç¥¨æŸ¥è¯¢
        provider_type: workflow
        selected: false
        title: è‚¡ç¥¨æŸ¥è¯¢
        tool_configurations:
          stock: å¹³å®‰é“¶è¡Œ
        tool_label: è‚¡ç¥¨æŸ¥è¯¢
        tool_name: getstock
        tool_parameters:
          stock:
            type: mixed
            value: ''
        type: tool
      height: 90
      id: '1724037127861'
      position:
        x: 942
        y: 1124.4287974900972
      positionAbsolute:
        x: 942
        y: 1124.4287974900972
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1724037289259.chart#}}


          {{#1724037289259.text#}}

          '
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 5
        type: answer
        variables: []
      height: 126
      id: '1724037192909'
      position:
        x: 1871.1398781028865
        y: 1118.1467459426265
      positionAbsolute:
        x: 1871.1398781028865
        y: 1118.1467459426265
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1) -> dict:\n    import json\n    arg1 = json.loads(arg1)\n\
          \    return {\n        \"text\":arg1['text'],\n        \"chart\":arg1['chart']\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          chart:
            children: null
            type: string
          text:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 2
        type: code
        variables:
        - value_selector:
          - '1724037127861'
          - text
          variable: arg1
      height: 54
      id: '1724037289259'
      position:
        x: 1408.0003473628321
        y: 1124.4287974900972
      positionAbsolute:
        x: 1408.0003473628321
        y: 1124.4287974900972
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not empty
            id: 76504f5f-16d1-4d00-945e-1c387a1ecb8b
            value: ''
            varType: string
            variable_selector:
            - conversation
            - ts_code
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 126
      id: '1724047139963'
      position:
        x: 1246
        y: 848
      positionAbsolute:
        x: 1246
        y: 848
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: ''
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 6
        type: answer
        variables: []
      height: 88
      id: '1724047155251'
      position:
        x: 1846
        y: 985
      positionAbsolute:
        x: 1846
        y: 985
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-max
          provider: tongyi
        prompt_template:
        - id: ea569b63-a0f1-40ca-824a-199957cdbc72
          role: system
          text: ''
        selected: false
        title: LLM 9
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1724047164267'
      position:
        x: 1546
        y: 985
      positionAbsolute:
        x: 1546
        y: 985
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -2067.0970495100696
      y: -95.56361640075329
      zoom: 1.1203892141941802
